<div #lineup class="lineup">
  @for (
    character of displayedCharacterList;
    track trackByCharacterName($index, character);
    let index = $index
  ) {
    <div
      #imgContainer
      [tabindex]="index"
      class="img-container"
      [style.height]="_adjustedRatioHeight(character, index)"
      (keydown.enter)="onCharacterClick(character, index)"
      (click)="onCharacterClick(character, index)"
      (mouseenter)="onImgHover(index)"
      (mouseleave)="onImgLeave()"
    >
      <!-- [style.bottom]="character.height ? character.height + 'px' : undefined" -->
      <!-- <div style=""> -->

      <div #lineContainer class="line-container">
        <div class="line" [appNegativeOffset]="imgContainer">
          <div
            #line
            class="second-line"
            [style.background-color]="_colorMap[character.name]"
            [style.width]="_getLineupWidth()"
          ></div>
        </div>
      </div>

      <!-- maxwidth is set here due to a firefox spacing bug -->
      <img
        #img
        class="image"
        [style.transform]="
          'scale(' + (1 + (character.adjustedImgScalePct || 0) / 100) + ')'
        "
        [style.bottom]="(character.adjustedImgScalePct || 0) / 2 + '%'"
        [style.left]="(character.adjustedImgLeftOffsetPct || 0) / 2 + '%'"
        [alt]="character.name"
        [src]="'img/' + character.img"
      />

      <!-- Debug: Character info -->
      <!-- 
      <div style="position: absolute; bottom: -20px; font-size: 10px; background: rgba(0,0,0,0.7); color: white; padding: 2px;">
        {{ character.name }}<br>
        H: {{ character.height }}<br>
        Adj: {{ character._adjustedHeightBasis }}%
      </div> 
      -->
    </div>
  }
</div>
